(function(){"use strict";var t={5938:function(t,e,r){var n=r(5130),o=r(6768);const a={id:"app"};function i(t,e,r,n,i,c){const u=(0,o.g2)("ProductList");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(u)])}var c=r(4232);const u={key:0,class:"error-message"},s={key:2};function l(t,e,r,a,i,l){const d=(0,o.g2)("VirtualList");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.searchQuery=e),placeholder:"Search products...",class:"search-input"},null,512),[[n.Jo,t.searchQuery]]),t.errorMessage?((0,o.uX)(),(0,o.CE)("p",u,(0,c.v_)(t.errorMessage),1)):(0,o.Q3)("",!0),!t.errorMessage&&t.filteredProducts.length?((0,o.uX)(),(0,o.Wv)(d,{items:t.filteredProducts,"item-height":140,"visible-item-count":5,key:t.searchQuery},null,8,["items"])):t.errorMessage?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("p",s,"No products found."))])}r(8111),r(2489);var d=r(144);function p(t,e,r,n,a,i){const u=(0,o.g2)("ProductItem");return(0,o.uX)(),(0,o.CE)("div",{class:"virtual-list",onScroll:e[0]||(e[0]=(...e)=>t.handleScroll&&t.handleScroll(...e)),style:(0,c.Tr)({height:t.containerHeight+"px"})},[(0,o.Lk)("div",{class:"list-container",style:(0,c.Tr)({height:t.totalHeight+"px"})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.visibleItems,(e=>((0,o.uX)(),(0,o.Wv)(u,{key:e.id,product:e,class:"list-item",style:(0,c.Tr)({transform:`translateY(${e.offset}px)`,height:t.itemHeight+"px"})},null,8,["product","style"])))),128))],4)],36)}const v={class:"product-item"},f={class:"image-wrapper"},g=["src","alt"],m={key:0,class:"image-placeholder"},h={class:"product-details"},b={class:"product-title"},y={class:"product-description"},L={class:"product-meta"},k={class:"product-discount"},E={class:"product-brand"},_={class:"product-info"},C={class:"product-price"},P={key:0,class:"product-rating"},I={class:"product-category"};function w(t,e,r,n,a,i){return(0,o.uX)(),(0,o.CE)("article",v,[(0,o.Lk)("div",f,[(0,o.Lk)("img",{src:t.product.thumbnail,alt:t.product.title,class:(0,c.C4)(["product-thumbnail",{loaded:t.imageLoaded}]),loading:"lazy",onLoad:e[0]||(e[0]=(...e)=>t.onImageLoad&&t.onImageLoad(...e))},null,42,g),t.imageLoaded?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",m))]),(0,o.Lk)("div",h,[(0,o.Lk)("h3",b,(0,c.v_)(t.product.title),1),(0,o.Lk)("p",y,(0,c.v_)(t.truncateDescription),1),(0,o.Lk)("div",L,[(0,o.Lk)("span",k,"Discount "+(0,c.v_)(t.product.discountPercentage)+"%",1),(0,o.Lk)("span",E,(0,c.v_)(t.product.brand),1)]),(0,o.Lk)("div",_,[(0,o.Lk)("span",C,"$"+(0,c.v_)(t.formattedPrice),1),void 0!==t.product.rating&&null!==t.product.rating?((0,o.uX)(),(0,o.CE)("span",P,(0,c.v_)(t.formattedRating),1)):(0,o.Q3)("",!0),(0,o.Lk)("span",I,(0,c.v_)(t.product.category),1)])])])}var M=(0,o.pM)({name:"ProductItem",props:{product:{type:Object,required:!0}},setup(t){const e=(0,d.KR)(!1),r=()=>{e.value=!0},n=(0,o.EW)((()=>t.product.price?.toFixed(2))),a=(0,o.EW)((()=>t.product.rating?.toFixed(2))),i=(0,o.EW)((()=>{const e=100,r=t.product.description||"";if(r.length<=e)return r;let n=r.lastIndexOf(" ",e),o="";return o=-1!==n?r.substring(0,n):r.substring(0,e),o+"..."}));return{imageLoaded:e,onImageLoad:r,formattedPrice:n,formattedRating:a,truncateDescription:i}}}),x=r(1241);const O=(0,x.A)(M,[["render",w],["__scopeId","data-v-6cb703ee"]]);var W=O;r(1701);function X(t,e,r,n=3){const a=(0,d.KR)(0),i=(0,o.EW)((()=>t.value.length*e)),c=(0,o.EW)((()=>Math.max(0,Math.floor(a.value/e)-n))),u=(0,o.EW)((()=>Math.min(t.value.length,Math.ceil((a.value+r)/e)+n))),s=(0,o.EW)((()=>t.value.slice(c.value,u.value).map(((t,r)=>({...t,offset:(c.value+r)*e}))))),l=t=>{const e=t.target;e&&(a.value=e.scrollTop)};return{totalHeight:i,visibleItems:s,handleScroll:l}}var H=(0,o.pM)({name:"VirtualList",components:{ProductItem:W},props:{items:{type:Array,required:!0},itemHeight:{type:Number,required:!0,validator:t=>t>0},initialVisibleItemCount:{type:Number,default:5,validator:t=>t>0}},setup(t){const e=(0,o.EW)((()=>t.initialVisibleItemCount*t.itemHeight)),r=(0,o.EW)((()=>t.items)),{totalHeight:n,visibleItems:a,handleScroll:i}=X(r,t.itemHeight,e.value,3);return{containerHeight:e,totalHeight:n,visibleItems:a,handleScroll:i}}});const j=(0,x.A)(H,[["render",p],["__scopeId","data-v-df1b6d48"]]);var Q=j;function R(t,e=900){const r=(0,d.KR)(t.value);let n;return(0,o.wB)(t,(t=>{clearTimeout(n),n=setTimeout((()=>{r.value=t}),e)})),r}function T(){return{id:0,title:"",description:"",price:0,discountPercentage:0,brand:"",category:"",rating:0,thumbnail:""}}var A=(0,o.pM)({name:"ProductList",components:{VirtualList:Q},setup(){const t=(0,d.KR)([]),e=(0,d.KR)(""),r=(0,d.KR)(null),n=R(e,300),a=(0,o.EW)((()=>{const e=(n.value||"").toLowerCase().trim();return e?t.value.filter((t=>{const r=t.title?.toLowerCase()||"",n=t.brand?.toLowerCase()||"",o=t.category?.toLowerCase()||"";return r.includes(e)||n.includes(e)||o.includes(e)})):t.value}));return(0,o.sV)((async()=>{try{const e=await fetch("https://dummyjson.com/products?limit=100"),r=await e.json();t.value=Array.from({length:1e4},((t,e)=>{const n=r.products[e%100]||T();return{id:e+1,title:n.title,description:n.description,price:n.price,discountPercentage:n.discountPercentage,brand:n.brand,category:n.category,rating:n.rating,thumbnail:n.thumbnail}}))}catch(e){console.error("Error loading products:",e),r.value="Failed to load products. Please try again later."}})),{searchQuery:e,filteredProducts:a,errorMessage:r}}});const K=(0,x.A)(A,[["render",l],["__scopeId","data-v-ac211164"]]);var S=K,V=(0,o.pM)({name:"App",components:{ProductList:S},setup(){return{}}});const F=(0,x.A)(V,[["render",i]]);var q=F;(0,n.Ef)(q).mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,a){if(!n){var i=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],a=t[l][2];for(var c=!0,u=0;u<n.length;u++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(c=!1,a<i&&(i=a));if(c){t.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,i=n[0],c=n[1],u=n[2],s=0;if(i.some((function(e){return 0!==t[e]}))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(e&&e(n);s<i.length;s++)a=i[s],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkvirtual_list_vue"]=self["webpackChunkvirtual_list_vue"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(5938)}));n=r.O(n)})();
//# sourceMappingURL=app.cc3cd6fe.js.map